{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport iziToast from \"izitoast\";\nimport close from \"../img/bi_x-octagon.svg\";\nconst dataInput = document.querySelector(\"#datetime-picker\");\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n      if (selectedDates[0].getTime() >= Date.now()){\n        activeButton()\n      } else {\n        iziToast.show({\n            class: 'messageError',\n            iconColor: 'white',\n            iconUrl: close,\n            message: 'Please choose a date in the future',\n            messageColor: 'white',\n            close: false,\n            backgroundColor: 'red',\n            position: 'topRight',\n            \n        });\n      }\n    },\n  };\nconst fp = flatpickr(dataInput,options); \nconst startButton = document.querySelector(\".button-start\")\nconst day = document.querySelector(\"[data-days]\")\nconst hrs = document.querySelector(\"[data-hours]\")\nconst mins = document.querySelector(\"[data-minutes]\")\nconst secs = document.querySelector(\"[data-seconds]\")\nconst input = document.querySelector(\"#datetime-picker\");\nconst inputFlatpickr = document.querySelector(\".flatpickr-input\");\n\ndataInput.addEventListener(\"input\", fp, disabledButton());\nfunction disabledButton() {\n    startButton.setAttribute(\"disabled\", \"disabled\")\n    }\nfunction disabledInputFlatpickr (){\n    inputFlatpickr.setAttribute(\"disabled\", \"disabled\")\n    input.setAttribute(\"disabled\", \"disabled\")\n}\nfunction activeButton(){\n    startButton.removeAttribute(\"disabled\")\n}\n\nclass Timer {\n    constructor (timerNumber){\n        this.startId = null;\n        this.timerNumber = timerNumber;\n        \n    }\n    start (){\n        const dateMemoryPressStart = new Date(dataInput.value).getTime();\n        this.startId = setInterval((()=>{\n            const dateMemoryInterval= dateMemoryPressStart-Date.now();\n            const dateToSec = this.mSToTime(dateMemoryInterval)\n            this.timerNumber(dateToSec);\n            console.log(dateToSec.secs)\n            if(dateToSec.secs === 0 && dateToSec.mins === 0 && dateToSec.hrs === 0 && dateToSec.day === 0){\n                this.stop()\n            }\n        }), 1000)\n        disabledButton();\n        disabledInputFlatpickr();\n    }\n    stop (){\n       clearInterval(this.startId);\n       \n    }\n    mSToTime(s) {\n        var ms = s % 1000;\n        s = (s - ms) / 1000;\n        var secs = s % 60;\n        s = (s - secs) / 60;\n        var mins = s % 60;\n        s = (s - mins) / 60;\n        var hrs = s % 24;\n        var day = (s - hrs) / 24;\n        return { day, hrs, mins, secs };\n        }\n}\nfunction timerChangeNumber(dateToSec) {\n    const string = convertTime(dateToSec);\n    day.textContent = string.day\n    hrs.textContent = string.hrs\n    mins.textContent = string.mins\n    secs.textContent = string.secs\n}\nfunction convertTime ({day, hrs, mins, secs}){\nday = day.toString().padStart(2, '0');    \nhrs = hrs.toString().padStart(2, '0');\nmins = mins.toString().padStart(2, '0');\nsecs = secs.toString().padStart(2, '0');\nreturn {day, hrs, mins, secs}\n}\nconst timerSite = new Timer(timerChangeNumber)\nstartButton.addEventListener(\"click\", ()=>{timerSite.start()})\n"],"names":["dataInput","options","selectedDates","activeButton","iziToast","close","fp","flatpickr","startButton","day","hrs","mins","secs","input","inputFlatpickr","disabledButton","disabledInputFlatpickr","Timer","timerNumber","dateMemoryPressStart","dateMemoryInterval","dateToSec","s","ms","timerChangeNumber","string","convertTime","timerSite"],"mappings":"iJAGA,MAAMA,EAAY,SAAS,cAAc,kBAAkB,EACrDC,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACjBA,EAAc,CAAC,EAAE,QAAO,GAAM,KAAK,MACrCC,EAAc,EAEdC,EAAS,KAAK,CACV,MAAO,eACP,UAAW,QACX,QAASC,EACT,QAAS,qCACT,aAAc,QACd,MAAO,GACP,gBAAiB,MACjB,SAAU,UAEtB,CAAS,CAEJ,CACL,EACMC,EAAKC,EAAUP,EAAUC,CAAO,EAChCO,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAM,SAAS,cAAc,aAAa,EAC1CC,EAAM,SAAS,cAAc,cAAc,EAC3CC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAQ,SAAS,cAAc,kBAAkB,EACjDC,EAAiB,SAAS,cAAc,kBAAkB,EAEhEd,EAAU,iBAAiB,QAASM,EAAIS,EAAgB,CAAA,EACxD,SAASA,GAAiB,CACtBP,EAAY,aAAa,WAAY,UAAU,CAC9C,CACL,SAASQ,GAAyB,CAC9BF,EAAe,aAAa,WAAY,UAAU,EAClDD,EAAM,aAAa,WAAY,UAAU,CAC7C,CACA,SAASV,GAAc,CACnBK,EAAY,gBAAgB,UAAU,CAC1C,CAEA,MAAMS,CAAM,CACR,YAAaC,EAAY,CACrB,KAAK,QAAU,KACf,KAAK,YAAcA,CAEtB,CACD,OAAQ,CACJ,MAAMC,EAAuB,IAAI,KAAKnB,EAAU,KAAK,EAAE,UACvD,KAAK,QAAU,YAAa,IAAI,CAC5B,MAAMoB,EAAoBD,EAAqB,KAAK,IAAG,EACjDE,EAAY,KAAK,SAASD,CAAkB,EAClD,KAAK,YAAYC,CAAS,EAC1B,QAAQ,IAAIA,EAAU,IAAI,EACvBA,EAAU,OAAS,GAAKA,EAAU,OAAS,GAAKA,EAAU,MAAQ,GAAKA,EAAU,MAAQ,GACxF,KAAK,KAAM,CAElB,EAAG,GAAI,EACRN,IACAC,GACH,CACD,MAAO,CACJ,cAAc,KAAK,OAAO,CAE5B,CACD,SAASM,EAAG,CACR,IAAIC,EAAKD,EAAI,IACbA,GAAKA,EAAIC,GAAM,IACf,IAAIX,EAAOU,EAAI,GACfA,GAAKA,EAAIV,GAAQ,GACjB,IAAID,EAAOW,EAAI,GACfA,GAAKA,EAAIX,GAAQ,GACjB,IAAID,EAAMY,EAAI,GACVb,GAAOa,EAAIZ,GAAO,GACtB,MAAO,CAAE,IAAAD,EAAK,IAAAC,EAAK,KAAAC,EAAM,KAAAC,CAAI,CAC5B,CACT,CACA,SAASY,EAAkBH,EAAW,CAClC,MAAMI,EAASC,EAAYL,CAAS,EACpCZ,EAAI,YAAcgB,EAAO,IACzBf,EAAI,YAAce,EAAO,IACzBd,EAAK,YAAcc,EAAO,KAC1Bb,EAAK,YAAca,EAAO,IAC9B,CACA,SAASC,EAAa,CAAC,IAAAjB,EAAK,IAAAC,EAAK,KAAAC,EAAM,KAAAC,CAAI,EAAE,CAC7C,OAAAH,EAAMA,EAAI,SAAU,EAAC,SAAS,EAAG,GAAG,EACpCC,EAAMA,EAAI,SAAU,EAAC,SAAS,EAAG,GAAG,EACpCC,EAAOA,EAAK,SAAU,EAAC,SAAS,EAAG,GAAG,EACtCC,EAAOA,EAAK,SAAU,EAAC,SAAS,EAAG,GAAG,EAC/B,CAAC,IAAAH,EAAK,IAAAC,EAAK,KAAAC,EAAM,KAAAC,CAAI,CAC5B,CACA,MAAMe,EAAY,IAAIV,EAAMO,CAAiB,EAC7ChB,EAAY,iBAAiB,QAAS,IAAI,CAACmB,EAAU,MAAK,CAAE,CAAC"}